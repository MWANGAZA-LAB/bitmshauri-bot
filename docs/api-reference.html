<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - BitMshauri Bot</title>
    <meta name="description" content="API documentation for BitMshauri bot - endpoints, integrations, and usage examples.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fab fa-bitcoin"></i>
                <span>BitMshauri</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#features">Features</a></li>
                <li><a href="index.html#getting-started">Get Started</a></li>
                <li><a href="index.html#documentation">Docs</a></li>
                <li><a href="index.html#contact">Contact</a></li>
                <li><a href="https://t.me/BitMshauriBot" class="cta-button">Try Bot</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <section class="page-header">
        <div class="container">
            <h1>API Reference</h1>
            <p>Complete API documentation for BitMshauri bot integrations</p>
        </div>
    </section>

    <!-- Table of Contents -->
    <section class="toc-section">
        <div class="container">
            <div class="toc-card">
                <h2>Table of Contents</h2>
                <ul class="toc-list">
                    <li><a href="#overview">API Overview</a></li>
                    <li><a href="#telegram-api">Telegram Bot API</a></li>
                    <li><a href="#price-api">Price API Integration</a></li>
                    <li><a href="#ai-api">AI Integration</a></li>
                    <li><a href="#webhooks">Webhooks</a></li>
                    <li><a href="#rate-limits">Rate Limits</a></li>
                    <li><a href="#examples">Usage Examples</a></li>
                </ul>
            </div>
        </div>
    </section>

    <!-- API Overview -->
    <section id="overview" class="guide-section">
        <div class="container">
            <h2>API Overview</h2>
            <div class="guide-content">
                <h3>Introduction</h3>
                <p>BitMshauri bot provides several API integrations for external services and applications. This documentation covers all available APIs and their usage.</p>

                <div class="api-overview">
                    <div class="overview-card">
                        <h4>Base URL</h4>
                        <code>https://api.bitmshauri.com</code>
                        <p>All API endpoints are relative to this base URL</p>
                    </div>
                    <div class="overview-card">
                        <h4>Authentication</h4>
                        <code>Authorization: Bearer YOUR_API_KEY</code>
                        <p>Include your API key in the Authorization header</p>
                    </div>
                    <div class="overview-card">
                        <h4>Response Format</h4>
                        <code>Content-Type: application/json</code>
                        <p>All responses are returned in JSON format</p>
                    </div>
                </div>

                <h3>Common Response Structure</h3>
                <div class="response-example">
                    <h4>Success Response</h4>
                    <pre><code>{
  "success": true,
  "data": {
    // Response data here
  },
  "message": "Operation completed successfully",
  "timestamp": "2024-01-15T10:30:00Z"
}</code></pre>
                </div>

                <div class="response-example">
                    <h4>Error Response</h4>
                    <pre><code>{
  "success": false,
  "error": {
    "code": "INVALID_REQUEST",
    "message": "Invalid parameters provided",
    "details": "Missing required field: user_id"
  },
  "timestamp": "2024-01-15T10:30:00Z"
}</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Telegram Bot API -->
    <section id="telegram-api" class="guide-section">
        <div class="container">
            <h2>Telegram Bot API</h2>
            <div class="guide-content">
                <h3>Bot Commands</h3>
                <p>The bot responds to various commands and natural language inputs:</p>

                <div class="api-endpoints">
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">POST</span>
                            <code>/bot/command</code>
                        </div>
                        <h4>Send Bot Command</h4>
                        <p>Send a command to the bot programmatically</p>
                        
                        <h5>Request Body</h5>
                        <pre><code>{
  "user_id": 123456789,
  "command": "/price",
  "parameters": {}
}</code></pre>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "message_id": 987654321,
    "response": "Bitcoin price: $43,250.00 USD"
  }
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">GET</span>
                            <code>/bot/status</code>
                        </div>
                        <h4>Bot Status</h4>
                        <p>Check the current status of the bot</p>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "status": "online",
    "uptime": "24h 15m 30s",
    "active_users": 1250,
    "total_commands": 15420
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Price API Integration -->
    <section id="price-api" class="guide-section">
        <div class="container">
            <h2>Price API Integration</h2>
            <div class="guide-content">
                <h3>Cryptocurrency Price Data</h3>
                <p>Access real-time cryptocurrency price information:</p>

                <div class="api-endpoints">
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">GET</span>
                            <code>/price/bitcoin</code>
                        </div>
                        <h4>Get Bitcoin Price</h4>
                        <p>Retrieve current Bitcoin price in multiple currencies</p>
                        
                        <h5>Query Parameters</h5>
                        <ul>
                            <li><code>currency</code> - Target currency (USD, TZS, EUR, etc.)</li>
                            <li><code>format</code> - Response format (json, simple)</li>
                        </ul>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "price_usd": 43250.00,
    "price_tzs": 108125000.00,
    "change_24h": 2.45,
    "market_cap": 847500000000,
    "volume_24h": 28500000000,
    "last_updated": "2024-01-15T10:30:00Z"
  }
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">GET</span>
                            <code>/price/convert</code>
                        </div>
                        <h4>Currency Conversion</h4>
                        <p>Convert between different currencies and Bitcoin</p>
                        
                        <h5>Query Parameters</h5>
                        <ul>
                            <li><code>amount</code> - Amount to convert</li>
                            <li><code>from</code> - Source currency</li>
                            <li><code>to</code> - Target currency</li>
                        </ul>
                        
                        <h5>Example Request</h5>
                        <code>GET /price/convert?amount=100&from=USD&to=BTC</code>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "amount": 100,
    "from": "USD",
    "to": "BTC",
    "result": 0.00231,
    "rate": 43250.00,
    "timestamp": "2024-01-15T10:30:00Z"
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Integration -->
    <section id="ai-api" class="guide-section">
        <div class="container">
            <h2>AI Integration</h2>
            <div class="guide-content">
                <h3>AI-Powered Q&A</h3>
                <p>Access the AI-powered question answering system:</p>

                <div class="api-endpoints">
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">POST</span>
                            <code>/ai/ask</code>
                        </div>
                        <h4>Ask AI Question</h4>
                        <p>Send a question to the AI system for Bitcoin-related answers</p>
                        
                        <h5>Request Body</h5>
                        <pre><code>{
  "question": "What is Bitcoin?",
  "language": "en",
  "context": "beginner"
}</code></pre>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "answer": "Bitcoin is a decentralized digital currency...",
    "confidence": 0.95,
    "sources": ["bitcoin.org", "wikipedia.org"],
    "related_topics": ["blockchain", "cryptography", "mining"]
  }
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <span class="method">GET</span>
                            <code>/ai/topics</code>
                        </div>
                        <h4>Get AI Topics</h4>
                        <p>Retrieve available topics for AI questions</p>
                        
                        <h5>Response</h5>
                        <pre><code>{
  "success": true,
  "data": {
    "topics": [
      "bitcoin_basics",
      "blockchain_technology",
      "mining",
      "wallet_security",
      "trading",
      "regulation"
    ]
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Webhooks -->
    <section id="webhooks" class="guide-section">
        <div class="container">
            <h2>Webhooks</h2>
            <div class="guide-content">
                <h3>Real-time Notifications</h3>
                <p>Receive real-time notifications about bot events:</p>

                <div class="webhook-card">
                    <h4>Webhook Configuration</h4>
                    <p>Configure webhooks to receive notifications about:</p>
                    <ul>
                        <li>New user registrations</li>
                        <li>Lesson completions</li>
                        <li>Price alerts</li>
                        <li>Group activities</li>
                    </ul>

                    <h5>Webhook URL Format</h5>
                    <code>POST https://your-domain.com/webhook/bitmshauri</code>

                    <h5>Webhook Payload Example</h5>
                    <pre><code>{
  "event": "user_registered",
  "user_id": 123456789,
  "timestamp": "2024-01-15T10:30:00Z",
  "data": {
    "username": "john_doe",
    "language": "en"
  }
}</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Rate Limits -->
    <section id="rate-limits" class="guide-section">
        <div class="container">
            <h2>Rate Limits</h2>
            <div class="guide-content">
                <h3>API Rate Limiting</h3>
                <p>To ensure fair usage, the API implements rate limiting:</p>

                <div class="rate-limits">
                    <div class="limit-card">
                        <h4>Free Tier</h4>
                        <ul>
                            <li>100 requests per hour</li>
                            <li>Basic price data</li>
                            <li>Limited AI queries</li>
                        </ul>
                    </div>
                    <div class="limit-card">
                        <h4>Pro Tier</h4>
                        <ul>
                            <li>1000 requests per hour</li>
                            <li>Full price data</li>
                            <li>Unlimited AI queries</li>
                            <li>Webhook support</li>
                        </ul>
                    </div>
                </div>

                <h3>Rate Limit Headers</h3>
                <p>The API includes rate limit information in response headers:</p>
                <pre><code>X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1642233600</code></pre>
            </div>
        </div>
    </section>

    <!-- Usage Examples -->
    <section id="examples" class="guide-section">
        <div class="container">
            <h2>Usage Examples</h2>
            <div class="guide-content">
                <h3>Code Examples</h3>
                <p>Here are some practical examples of how to use the API:</p>

                <div class="code-examples">
                    <div class="example-card">
                        <h4>Python Example</h4>
                        <pre><code>import requests

# Get Bitcoin price
response = requests.get(
    'https://api.bitmshauri.com/price/bitcoin',
    headers={'Authorization': 'Bearer YOUR_API_KEY'}
)

if response.status_code == 200:
    data = response.json()
    price = data['data']['price_usd']
    print(f"Bitcoin price: ${price:,.2f}")</code></pre>
                    </div>

                    <div class="example-card">
                        <h4>JavaScript Example</h4>
                        <pre><code>// Ask AI question
const response = await fetch('https://api.bitmshauri.com/ai/ask', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR_API_KEY'
    },
    body: JSON.stringify({
        question: 'What is blockchain?',
        language: 'en'
    })
});

const data = await response.json();
console.log(data.data.answer);</code></pre>
                    </div>

                    <div class="example-card">
                        <h4>cURL Example</h4>
                        <pre><code># Convert currency
curl -X GET \
  "https://api.bitmshauri.com/price/convert?amount=100&from=USD&to=BTC" \
  -H "Authorization: Bearer YOUR_API_KEY"</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fab fa-bitcoin"></i>
                        <span>BitMshauri</span>
                    </div>
                    <p>Empowering East Africa with Bitcoin education and financial literacy.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="user-guide.html">User Guide</a></li>
                        <li><a href="developer-guide.html">Developer Docs</a></li>
                        <li><a href="https://t.me/BitMshauriBot">Try Bot</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="api-reference.html">API Reference</a></li>
                        <li><a href="https://github.com/yourusername/bitmshauri-bot-3">Source Code</a></li>
                        <li><a href="mailto:mwanga02717@gmail.com">Contact Support</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 BitMshauri Bot. MIT License. Made with ❤️ for East Africa.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
